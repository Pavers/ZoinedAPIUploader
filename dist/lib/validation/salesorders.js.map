{"version":3,"sources":["../../../lib/validation/salesorders.js"],"names":["validateSalesOrders","data","salesData","JSON","parse","result","finalObject","dateRegex","timeRegex","request","map","row","Promise","resolve","reject","transaction_id","errorID","errorField","errorReason","line_item_id","customer_id","product_id","product_quantity","isNaN","product_unit_price","sales_value","sales_value_wo_vat","rebate","rebate_wo_vat","sales_currency","payment_method","supplier_id","purchase_price","purchase_price_wo_vat","purchase_currency","piece_good","organisation_id","salesperson_id","campaign_id","cancel_id","delivery_date","match","delivery_time","order_date","order_time","invoice_date","invoice_time","order_status","register_id","custom_field_1","custom_field_2","custom_field_3","custom_field_4","custom_field_5","delivery_customer_id","source_system","push","all","module","exports"],"mappings":"AAAA;AACA;;AAEA;;;;;;;;AAMA,IAAMA;AAAA,qEAAsB,iBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAEpBC,qBAFoB,GAERC,KAAKC,KAAL,CAAWH,IAAX,CAFQ;AAGtBI,kBAHsB,GAGb,EAHa;AAItBC,uBAJsB,GAIR,EAJQ;AAOpBC,qBAPoB,GAOR,uBAPQ;AAQpBC,qBARoB,GAQR,uBARQ;AAUtBC,mBAVsB,GAUZP,UAAUQ,GAAV,CAAc,UAACC,GAAD,EAAS;AACnC,qBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAEtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,oBAAI,CAACH,IAAII,cAAT,EAAyB;AACvBV,yBAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,yBAAOY,UAAP,GAAoB,gBAApB;AACAZ,yBAAOa,WAAP,GAAqB,2BAArB;AACAJ,yBAAOT,MAAP;AACD,iBALD,MAKO;;AAEL,sBAAI,OAAOM,IAAII,cAAX,KAA8B,QAAlC,EAA4C;AAC1CV,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAGD,oBAAI,CAACM,IAAIQ,YAAT,EAAuB;AACrBd,yBAAOW,OAAP,GAAiB,EAAjB;AACAX,yBAAOY,UAAP,GAAoB,cAApB;AACAZ,yBAAOa,WAAP,GAAqB,2BAArB;AACAJ,yBAAOT,MAAP;AACD,iBALD,MAKO;;AAEL,sBAAI,OAAOM,IAAIQ,YAAX,KAA4B,QAAhC,EAA0C;AACxCd,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,cAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAIM,IAAIS,WAAR,EAAqB;AACnB,sBAAI,OAAOT,IAAIS,WAAX,KAA2B,QAA/B,EAAyC;AACvCf,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,aAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIS,WAAJ,GAAkB,EAAlB;AACD;;AAED,oBAAI,CAACT,IAAIU,UAAT,EAAqB;AACnBhB,yBAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,yBAAOY,UAAP,GAAoB,YAApB;AACAZ,yBAAOa,WAAP,GAAqB,2BAArB;AACAJ,yBAAOT,MAAP;AACD,iBALD,MAKO;;AAEL,sBAAI,OAAOM,IAAIU,UAAX,KAA0B,QAA9B,EAAwC;AACtChB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,YAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAGD,oBAAI,CAACM,IAAIW,gBAAT,EAA2B;AACzBjB,yBAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,yBAAOY,UAAP,GAAoB,kBAApB;AACAZ,yBAAOa,WAAP,GAAqB,2BAArB;AACAJ,yBAAOT,MAAP;AACD,iBALD,MAKO;;AAEL,sBAAI,CAACkB,MAAMZ,IAAIW,gBAAV,CAAL,EAAkC;AAChCjB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,YAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAI,CAACM,IAAIa,kBAAT,EAA6B;AAC3BnB,yBAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,yBAAOY,UAAP,GAAoB,oBAApB;AACAZ,yBAAOa,WAAP,GAAqB,2BAArB;AACAJ,yBAAOT,MAAP;AACD,iBALD,MAKO;;AAEL,sBAAI,CAACkB,MAAMZ,IAAIa,kBAAV,CAAL,EAAoC;AAClCnB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,oBAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAI,CAACM,IAAIc,WAAT,EAAsB;AACpBpB,yBAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,yBAAOY,UAAP,GAAoB,aAApB;AACAZ,yBAAOa,WAAP,GAAqB,2BAArB;AACAJ,yBAAOT,MAAP;AACD,iBALD,MAKO;;AAEL,sBAAI,CAACkB,MAAMZ,IAAIc,WAAV,CAAL,EAA6B;AAC3BpB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,aAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAGD,oBAAIM,IAAIe,kBAAR,EAA4B;AAC1B,sBAAI,CAACH,MAAMZ,IAAIe,kBAAV,CAAL,EAAoC;AAClCrB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,oBAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIe,kBAAJ,GAAyB,CAAzB;AACD;;AAED,oBAAIf,IAAIgB,MAAR,EAAgB;AACd,sBAAI,CAACJ,MAAMZ,IAAIgB,MAAV,CAAL,EAAwB;AACtBtB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,QAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIgB,MAAJ,GAAa,CAAb;AACD;;AAED,oBAAIhB,IAAIiB,aAAR,EAAuB;AACrB,sBAAI,CAACL,MAAMZ,IAAIiB,aAAV,CAAL,EAA+B;AAC7BvB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,eAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIiB,aAAJ,GAAoB,CAApB;AACD;;AAGD,oBAAIjB,IAAIkB,cAAR,EAAwB;AACtB,sBAAI,OAAOlB,IAAIkB,cAAX,KAA8B,QAAlC,EAA4C;AAC1CxB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIkB,cAAJ,GAAqB,EAArB;AACD;;AAED,oBAAIlB,IAAImB,cAAR,EAAwB;AACtB,sBAAI,OAAOnB,IAAImB,cAAX,KAA8B,QAAlC,EAA4C;AAC1CzB,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAImB,cAAJ,GAAqB,EAArB;AACD;;AAGD,oBAAInB,IAAIoB,WAAR,EAAqB;AACnB,sBAAI,OAAOpB,IAAIoB,WAAX,KAA2B,QAA/B,EAAyC;AACvC1B,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,aAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIoB,WAAJ,GAAkB,EAAlB;AACD;;AAGD,oBAAIpB,IAAIqB,cAAR,EAAwB;AACtB,sBAAI,CAACT,MAAMZ,IAAIqB,cAAV,CAAL,EAAgC;AAC9B3B,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIqB,cAAJ,GAAqB,CAArB;AACD;;AAGD,oBAAIrB,IAAIsB,qBAAR,EAA+B;AAC7B,sBAAI,CAACV,MAAMZ,IAAIsB,qBAAV,CAAL,EAAuC;AACrC5B,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,uBAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIsB,qBAAJ,GAA4B,CAA5B;AACD;;AAED,oBAAItB,IAAIuB,iBAAR,EAA2B;AACzB,sBAAI,OAAOvB,IAAIuB,iBAAX,KAAiC,QAArC,EAA+C;AAC7C7B,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,mBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIuB,iBAAJ,GAAwB,EAAxB;AACD;;AAED,oBAAIvB,IAAIwB,UAAR,EAAoB;AAClB,sBAAI,OAAOxB,IAAIwB,UAAX,KAA0B,SAA9B,EAAyC;AACvC9B,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,mBAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIuB,iBAAJ,GAAwB,KAAxB;AACD;;AAED,oBAAIvB,IAAIyB,eAAR,EAAyB;AACvB,sBAAI,OAAOzB,IAAIyB,eAAX,KAA+B,QAAnC,EAA6C;AAC3C/B,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,iBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIyB,eAAJ,GAAsB,EAAtB;AACD;;AAED,oBAAIzB,IAAI0B,cAAR,EAAwB;AACtB,sBAAI,OAAO1B,IAAI0B,cAAX,KAA8B,QAAlC,EAA4C;AAC1ChC,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAI0B,cAAJ,GAAqB,EAArB;AACD;;AAGD,oBAAI1B,IAAI2B,WAAR,EAAqB;AACnB,sBAAI,OAAO3B,IAAI2B,WAAX,KAA2B,QAA/B,EAAyC;AACvCjC,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,aAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAI2B,WAAJ,GAAkB,EAAlB;AACD;;AAGD,oBAAI3B,IAAI4B,SAAR,EAAmB;AACjB,sBAAI,OAAO5B,IAAI4B,SAAX,KAAyB,QAA7B,EAAuC;AACrClC,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,WAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAI4B,SAAJ,GAAgB,EAAhB;AACD;;AAGD,oBAAI5B,IAAI6B,aAAR,EAAuB;AACrB,sBAAI,CAAC7B,IAAI6B,aAAJ,CAAkBC,KAAlB,CAAwBlC,SAAxB,CAAL,EAAyC;AACvCF,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,eAApB;AACAZ,2BAAOa,WAAP,GAAqB,qCAArB;AACAJ,2BAAOT,MAAP;AACD,mBALD,MAKO;AACLA,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,eAApB;AACAZ,2BAAOa,WAAP,GAAqB,iBAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAIM,IAAI+B,aAAR,EAAuB;AACrB,sBAAI,CAAC/B,IAAI+B,aAAJ,CAAkBD,KAAlB,CAAwBjC,SAAxB,CAAL,EAAyC;AACvCH,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,eAApB;AACAZ,2BAAOa,WAAP,GAAqB,mCAArB;AACAJ,2BAAOT,MAAP;AACD,mBALD,MAKO;AACLA,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,eAApB;AACAZ,2BAAOa,WAAP,GAAqB,iBAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAGD,oBAAIM,IAAIgC,UAAR,EAAoB;AAClB,sBAAI,CAAChC,IAAIgC,UAAJ,CAAeF,KAAf,CAAqBlC,SAArB,CAAL,EAAsC;AACpCF,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,YAApB;AACAZ,2BAAOa,WAAP,GAAqB,qCAArB;AACAJ,2BAAOT,MAAP;AACD,mBALD,MAKO;AACLA,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,YAApB;AACAZ,2BAAOa,WAAP,GAAqB,iBAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAIM,IAAIiC,UAAR,EAAoB;AAClB,sBAAI,CAACjC,IAAIiC,UAAJ,CAAeH,KAAf,CAAqBjC,SAArB,CAAL,EAAsC;AACpCH,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,YAApB;AACAZ,2BAAOa,WAAP,GAAqB,mCAArB;AACAJ,2BAAOT,MAAP;AACD,mBALD,MAKO;AACLA,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,YAApB;AACAZ,2BAAOa,WAAP,GAAqB,iBAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAIM,IAAIkC,YAAR,EAAsB;AACpB,sBAAI,CAAClC,IAAIkC,YAAJ,CAAiBJ,KAAjB,CAAuBlC,SAAvB,CAAL,EAAwC;AACtCF,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,cAApB;AACAZ,2BAAOa,WAAP,GAAqB,qCAArB;AACAJ,2BAAOT,MAAP;AACD,mBALD,MAKO;AACLA,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,cAApB;AACAZ,2BAAOa,WAAP,GAAqB,iBAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAIM,IAAImC,YAAR,EAAsB;AACpB,sBAAI,CAACnC,IAAImC,YAAJ,CAAiBL,KAAjB,CAAuBjC,SAAvB,CAAL,EAAwC;AACtCH,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,cAApB;AACAZ,2BAAOa,WAAP,GAAqB,mCAArB;AACAJ,2BAAOT,MAAP;AACD,mBALD,MAKO;AACLA,2BAAOW,OAAP,GAAiBL,IAAImC,YAArB;AACAzC,2BAAOY,UAAP,GAAoB,YAApB;AACAZ,2BAAOa,WAAP,GAAqB,iBAArB;AACAJ,2BAAOT,MAAP;AACD;AACF;;AAED,oBAAIM,IAAIoC,YAAR,EAAsB;AACpB,sBAAI,CAACxB,MAAMZ,IAAIoC,YAAV,CAAL,EAA8B;AAC5B1C,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,uBAApB;AACAZ,2BAAOa,WAAP,GAAqB,eAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIoC,YAAJ,GAAmB,CAAnB;AACD;;AAED,oBAAIpC,IAAIqC,WAAR,EAAqB;AACnB,sBAAI,OAAOrC,IAAIqC,WAAX,KAA2B,QAA/B,EAAyC;AACvC3C,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,aAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIqC,WAAJ,GAAkB,EAAlB;AACD;;AAGD,oBAAIrC,IAAIsC,cAAR,EAAwB;AACtB,sBAAI,OAAOtC,IAAIsC,cAAX,KAA8B,QAAlC,EAA4C;AAC1C5C,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIsC,cAAJ,GAAqB,EAArB;AACD;;AAED,oBAAItC,IAAIuC,cAAR,EAAwB;AACtB,sBAAI,OAAOvC,IAAIuC,cAAX,KAA8B,QAAlC,EAA4C;AAC1C7C,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIuC,cAAJ,GAAqB,EAArB;AACD;AACD,oBAAIvC,IAAIwC,cAAR,EAAwB;AACtB,sBAAI,OAAOxC,IAAIwC,cAAX,KAA8B,QAAlC,EAA4C;AAC1C9C,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIwC,cAAJ,GAAqB,EAArB;AACD;AACD,oBAAIxC,IAAIyC,cAAR,EAAwB;AACtB,sBAAI,OAAOzC,IAAIyC,cAAX,KAA8B,QAAlC,EAA4C;AAC1C/C,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAIyC,cAAJ,GAAqB,EAArB;AACD;AACD,oBAAIzC,IAAI0C,cAAR,EAAwB;AACtB,sBAAI,OAAO1C,IAAI0C,cAAX,KAA8B,QAAlC,EAA4C;AAC1ChD,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,gBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAI0C,cAAJ,GAAqB,EAArB;AACD;;AAGD,oBAAI1C,IAAI2C,oBAAR,EAA8B;AAC5B,sBAAI,OAAO3C,IAAI2C,oBAAX,KAAoC,QAAxC,EAAkD;AAChDjD,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,sBAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAI2C,oBAAJ,GAA2B,EAA3B;AACD;;AAGD,oBAAI3C,IAAI4C,aAAR,EAAuB;AACrB,sBAAI,OAAO5C,IAAI4C,aAAX,KAA6B,QAAjC,EAA2C;AACzClD,2BAAOW,OAAP,GAAiBL,IAAII,cAArB;AACAV,2BAAOY,UAAP,GAAoB,eAApB;AACAZ,2BAAOa,WAAP,GAAqB,cAArB;AACAJ,2BAAOT,MAAP;AACD;AACF,iBAPD,MAOO;AACLM,sBAAI4C,aAAJ,GAAoB,EAApB;AACD;;AAEDjD,4BAAYkD,IAAZ,CAAiB7C,GAAjB;AACAE,wBAAQF,GAAR;AACD,eA9eM,CAAP;AA+eD,aAhfa,CAVY;AAAA;AAAA,mBA4fbC,QAAQ6C,GAAR,CAAYhD,OAAZ,CA5fa;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA,GAAN;;AAigBAiD,OAAOC,OAAP,GAAiB;AACf3D;AADe,CAAjB","file":"salesorders.js","sourcesContent":["/* eslint-disable valid-jsdoc */\n'use strict';\n\n/**\n * @author Dave Grix\n * @param data string\n * @return array\n */\n\nconst validateSalesOrders = async(data) => {\n\n  const salesData = JSON.parse(data);\n  let result = {};\n  let finalObject = [];\n\n\n  const dateRegex = '/^\\d{4}-\\d{2}-\\d{2}$/';\n  const timeRegex = '/^\\d{2}:\\d{2}:\\d{2}$/';\n\n  let request = salesData.map((row) => {\n    return new Promise((resolve, reject) => {\n\n      /**\n       * @param row object\n       * @param row.transaction_id string required\n       * @param row.line_item_id string required\n       * @param row.customer_id string\n       * @param row.product_id string required\n       * @param row.product_quantity number required\n       * @param row.product_unit_price number required\n       * @param row.sales_value number required\n       * @param row.sales_value_wo_vat number\n       * @param row.rebate number\n       * @param row.rebate_wo_vat number\n       * @param row.sales_currency string\n       * @param row.payment_method string\n       * @param row.supplier_id string\n       * @param row.purchase_price number\n       * @param row.purchase_price_wo_vat number\n       * @param row.purchase_currency string\n       * @param row.piece_good boolean\n       * @param row.organisation_id string\n       * @param row.salesperson_id string\n       * @param row.campaign_id string\n       * @param row.cancel_id string\n       * @param row.delivery_date string (yyyy-mm-dd)\n       * @param row.delivery_time string (HH:mm:ss)\n       * @param row.order_date string (yyyy-mm-dd)\n       * @param row.order_time string (HH:mm:ss)\n       * @param row.invoice_date string (yyyy-mm-dd)\n       * @param row.invoice_time string (HH:mm:ss)\n       * @param row.order_status number\n       * @param row.register_id string\n       * @param row.custom_field_1 string\n       * @param row.custom_field_2 string\n       * @param row.custom_field_3 string\n       * @param row.custom_field_4 string\n       * @param row.custom_field_5 string\n       * @param row.delivery_customer_id string\n       * @param row.source_system string\n       */\n\n\n      if (!row.transaction_id) {\n        result.errorID = row.transaction_id;\n        result.errorField = 'transaction_id';\n        result.errorReason = 'Missing Required Property';\n        reject(result);\n      } else {\n\n        if (typeof row.transaction_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'transaction_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      }\n\n\n      if (!row.line_item_id) {\n        result.errorID = '';\n        result.errorField = 'line_item_id';\n        result.errorReason = 'Missing Required Property';\n        reject(result);\n      } else {\n\n        if (typeof row.line_item_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'line_item_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      }\n\n      if (row.customer_id) {\n        if (typeof row.customer_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'customer_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_id = '';\n      }\n\n      if (!row.product_id) {\n        result.errorID = row.transaction_id;\n        result.errorField = 'product_id';\n        result.errorReason = 'Missing Required Property';\n        reject(result);\n      } else {\n\n        if (typeof row.product_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'product_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      }\n\n\n      if (!row.product_quantity) {\n        result.errorID = row.transaction_id;\n        result.errorField = 'product_quantity';\n        result.errorReason = 'Missing Required Property';\n        reject(result);\n      } else {\n\n        if (!isNaN(row.product_quantity)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'product_id';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      }\n\n      if (!row.product_unit_price) {\n        result.errorID = row.transaction_id;\n        result.errorField = 'product_unit_price';\n        result.errorReason = 'Missing Required Property';\n        reject(result);\n      } else {\n\n        if (!isNaN(row.product_unit_price)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'product_unit_price';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      }\n\n      if (!row.sales_value) {\n        result.errorID = row.transaction_id;\n        result.errorField = 'sales_value';\n        result.errorReason = 'Missing Required Property';\n        reject(result);\n      } else {\n\n        if (!isNaN(row.sales_value)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'sales_value';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      }\n\n\n      if (row.sales_value_wo_vat) {\n        if (!isNaN(row.sales_value_wo_vat)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'sales_value_wo_vat';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      } else {\n        row.sales_value_wo_vat = 0;\n      }\n\n      if (row.rebate) {\n        if (!isNaN(row.rebate)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'rebate';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      } else {\n        row.rebate = 0;\n      }\n\n      if (row.rebate_wo_vat) {\n        if (!isNaN(row.rebate_wo_vat)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'rebate_wo_vat';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      } else {\n        row.rebate_wo_vat = 0;\n      }\n\n\n      if (row.sales_currency) {\n        if (typeof row.sales_currency !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'sales_currency';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.sales_currency = '';\n      }\n\n      if (row.payment_method) {\n        if (typeof row.payment_method !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'payment_method';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.payment_method = '';\n      }\n\n\n      if (row.supplier_id) {\n        if (typeof row.supplier_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'supplier_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.supplier_id = '';\n      }\n\n\n      if (row.purchase_price) {\n        if (!isNaN(row.purchase_price)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'purchase_price';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      } else {\n        row.purchase_price = 0;\n      }\n\n\n      if (row.purchase_price_wo_vat) {\n        if (!isNaN(row.purchase_price_wo_vat)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'purchase_price_wo_vat';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      } else {\n        row.purchase_price_wo_vat = 0;\n      }\n\n      if (row.purchase_currency) {\n        if (typeof row.purchase_currency !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'purchase_currency';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.purchase_currency = '';\n      }\n\n      if (row.piece_good) {\n        if (typeof row.piece_good !== 'boolean') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'purchase_currency';\n          result.errorReason = 'Not a Boolean';\n          reject(result);\n        }\n      } else {\n        row.purchase_currency = false;\n      }\n\n      if (row.organisation_id) {\n        if (typeof row.organisation_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'organisation_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.organisation_id = '';\n      }\n\n      if (row.salesperson_id) {\n        if (typeof row.salesperson_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'salesperson_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.salesperson_id = '';\n      }\n\n\n      if (row.campaign_id) {\n        if (typeof row.campaign_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'campaign_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.campaign_id = '';\n      }\n\n\n      if (row.cancel_id) {\n        if (typeof row.cancel_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'cancel_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.cancel_id = '';\n      }\n\n\n      if (row.delivery_date) {\n        if (!row.delivery_date.match(dateRegex)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'delivery_date';\n          result.errorReason = 'Not in correct format of YYYY-mm-dd';\n          reject(result);\n        } else {\n          result.errorID = row.transaction_id;\n          result.errorField = 'delivery_date';\n          result.errorReason = 'Requires a Date';\n          reject(result);\n        }\n      }\n\n      if (row.delivery_time) {\n        if (!row.delivery_time.match(timeRegex)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'delivery_time';\n          result.errorReason = 'Not in correct format of HH:mm:ss';\n          reject(result);\n        } else {\n          result.errorID = row.transaction_id;\n          result.errorField = 'delivery_time';\n          result.errorReason = 'Requires a Time';\n          reject(result);\n        }\n      }\n\n\n      if (row.order_date) {\n        if (!row.order_date.match(dateRegex)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'order_date';\n          result.errorReason = 'Not in correct format of YYYY-mm-dd';\n          reject(result);\n        } else {\n          result.errorID = row.transaction_id;\n          result.errorField = 'order_date';\n          result.errorReason = 'Requires a Date';\n          reject(result);\n        }\n      }\n\n      if (row.order_time) {\n        if (!row.order_time.match(timeRegex)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'order_time';\n          result.errorReason = 'Not in correct format of HH:mm:ss';\n          reject(result);\n        } else {\n          result.errorID = row.transaction_id;\n          result.errorField = 'order_time';\n          result.errorReason = 'Requires a Time';\n          reject(result);\n        }\n      }\n\n      if (row.invoice_date) {\n        if (!row.invoice_date.match(dateRegex)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'invoice_date';\n          result.errorReason = 'Not in correct format of YYYY-mm-dd';\n          reject(result);\n        } else {\n          result.errorID = row.transaction_id;\n          result.errorField = 'invoice_date';\n          result.errorReason = 'Requires a Date';\n          reject(result);\n        }\n      }\n\n      if (row.invoice_time) {\n        if (!row.invoice_time.match(timeRegex)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'invoice_time';\n          result.errorReason = 'Not in correct format of HH:mm:ss';\n          reject(result);\n        } else {\n          result.errorID = row.invoice_time;\n          result.errorField = 'order_time';\n          result.errorReason = 'Requires a Time';\n          reject(result);\n        }\n      }\n\n      if (row.order_status) {\n        if (!isNaN(row.order_status)) {\n          result.errorID = row.transaction_id;\n          result.errorField = 'purchase_price_wo_vat';\n          result.errorReason = 'Not a Number!';\n          reject(result);\n        }\n      } else {\n        row.order_status = 0;\n      }\n\n      if (row.register_id) {\n        if (typeof row.register_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'register_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.register_id = '';\n      }\n\n\n      if (row.custom_field_1) {\n        if (typeof row.custom_field_1 !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'custom_field_1';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_field_1 = '';\n      }\n\n      if (row.custom_field_2) {\n        if (typeof row.custom_field_2 !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'custom_field_2';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_field_2 = '';\n      }\n      if (row.custom_field_3) {\n        if (typeof row.custom_field_3 !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'custom_field_3';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_field_3 = '';\n      }\n      if (row.custom_field_4) {\n        if (typeof row.custom_field_4 !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'custom_field_4';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_field_4 = '';\n      }\n      if (row.custom_field_5) {\n        if (typeof row.custom_field_5 !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'custom_field_1';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_field_5 = '';\n      }\n\n\n      if (row.delivery_customer_id) {\n        if (typeof row.delivery_customer_id !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'delivery_customer_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.delivery_customer_id = '';\n      }\n\n\n      if (row.source_system) {\n        if (typeof row.source_system !== 'string') {\n          result.errorID = row.transaction_id;\n          result.errorField = 'source_system';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.source_system = '';\n      }\n\n      finalObject.push(row);\n      resolve(row);\n    });\n  });\n\n  return await Promise.all(request);\n\n\n};\n\nmodule.exports = {\n  validateSalesOrders\n};\n"]}