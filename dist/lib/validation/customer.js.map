{"version":3,"sources":["../../../lib/validation/customer.js"],"names":["validateCustomers","data","salesData","JSON","parse","result","finalObject","request","map","row","Promise","resolve","reject","customer_id","errorID","errorField","errorReason","customer_name","customer_company","customer_email","customer_address","customer_zipcode","customer_city","customer_country","customer_group_id","customer_group_name","hierarchy_level_1","hierarchy_level_2","hierarchy_level_3","hierarchy_level_4","hierarchy_level_5","custom_dimension_1","custom_dimension_2","custom_dimension_3","custom_dimension_4","custom_dimension_5","account_number","source_system","push","all","module","exports"],"mappings":"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","file":"customer.js","sourcesContent":["/* eslint-disable valid-jsdoc */\n'use strict';\n\n/**\n * @author Dave Grix\n * @param data string\n * @return array\n */\nconst validateCustomers = async(data) => {\n\n  const salesData = JSON.parse(data);\n  let result = {};\n  let finalObject = [];\n\n\n  let request = salesData.map((row) => {\n    return new Promise((resolve, reject) => {\n      /**\n       * @param row object\n       * @param row.customer_id string required\n       * @param row.customer_name string\n       * @param row.customer_company string\n       * @param row.customer_email string\n       * @param row.customer_phone string\n       * @param row.customer_address string\n       * @param row.customer_zipcode string\n       * @param row.customer_city string\n       * @param row.customer_country string\n       * @param row.customer_group_id string\n       * @param row.customer_group_name string\n       * @param row.hierarchy_level_1 string\n       * @param row.hierarchy_level_2 string\n       * @param row.hierarchy_level_3 string\n       * @param row.hierarchy_level_4 string\n       * @param row.hierarchy_level_5 string\n       * @param row.custom_dimension_1 string\n       * @param row.custom_dimension_2 string\n       * @param row.custom_dimension_3 string\n       * @param row.custom_dimension_4 string\n       * @param row.custom_dimension_5 string\n       * @param row.account_number string\n       * @param row.source_system string\n       */\n\n      if (!row.customer_id) {\n        result.errorID = row.customer_id;\n        result.errorField = 'customer_id';\n        result.errorReason = 'Missing Required Property';\n        reject(result);\n      } else {\n\n        if (typeof row.customer_id !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      }\n\n      if (row.customer_name) {\n        if (typeof row.customer_name !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_name';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_name = '';\n      }\n\n      if (row.customer_company) {\n        if (typeof row.customer_company !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_company';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_company = '';\n      }\n\n      if (row.customer_email) {\n        if (typeof row.customer_email !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_email';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_email = '';\n      }\n\n\n      if (row.customer_address) {\n        if (typeof row.customer_address !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_address';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_address = '';\n      }\n\n      if (row.customer_zipcode) {\n        if (typeof row.customer_zipcode !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_zipcode';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_zipcode = '';\n      }\n\n\n      if (row.customer_city) {\n        if (typeof row.customer_city !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_city';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_city = '';\n      }\n\n      if (row.customer_country) {\n        if (typeof row.customer_country !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_country';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_country = '';\n      }\n\n      if (row.customer_group_id) {\n        if (typeof row.customer_group_id !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_group_id';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_group_id = '';\n      }\n\n      if (row.customer_group_name) {\n        if (typeof row.customer_group_name !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'customer_group_name';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.customer_group_name = '';\n      }\n\n      if (row.hierarchy_level_1) {\n        if (typeof row.hierarchy_level_1 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'hierarchy_level_1';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.hierarchy_level_1 = '';\n      }\n\n      if (row.hierarchy_level_2) {\n        if (typeof row.hierarchy_level_2 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'hierarchy_level_2';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.hierarchy_level_2 = '';\n      }\n\n\n      if (row.hierarchy_level_3) {\n        if (typeof row.hierarchy_level_3 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'hierarchy_level_3';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.hierarchy_level_3 = '';\n      }\n\n      if (row.hierarchy_level_4) {\n        if (typeof row.hierarchy_level_4 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'hierarchy_level_4';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.hierarchy_level_4 = '';\n      }\n\n      if (row.hierarchy_level_5) {\n        if (typeof row.hierarchy_level_5 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'hierarchy_level_5';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.hierarchy_level_5 = '';\n      }\n\n      if (row.custom_dimension_1) {\n        if (typeof row.custom_dimension_1 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'custom_dimension_1';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_dimension_1 = '';\n      }\n\n      if (row.custom_dimension_2) {\n        if (typeof row.custom_dimension_2 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'custom_dimension_2';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_dimension_2 = '';\n      }\n\n      if (row.custom_dimension_3) {\n        if (typeof row.custom_dimension_3 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'custom_dimension_3';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_dimension_3 = '';\n      }\n\n\n      if (row.custom_dimension_4) {\n        if (typeof row.custom_dimension_4 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'custom_dimension_4';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_dimension_4 = '';\n      }\n\n      if (row.custom_dimension_5) {\n        if (typeof row.custom_dimension_5 !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'custom_dimension_5';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.custom_dimension_5 = '';\n      }\n\n      if (row.account_number) {\n        if (typeof row.account_number !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'account_number';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.account_number = '';\n      }\n\n\n      if (row.source_system) {\n        if (typeof row.source_system !== 'string') {\n          result.errorID = row.customer_id;\n          result.errorField = 'source_system';\n          result.errorReason = 'Not a String';\n          reject(result);\n        }\n      } else {\n        row.source_system = '';\n      }\n\n      finalObject.push(row);\n      resolve(row);\n\n    });\n  });\n  return await Promise.all(request);\n};\n\nmodule.exports = {\n  validateCustomers\n};\n"]}